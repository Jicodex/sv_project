<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIgn Up With Email</title>
    <!-- ========== All Css Link  -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <section id="home_page_area">
      <div class="home_page_bg input_bg_blur">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              <div class="login_sighup_input">
                <!-- ===back button  -->
                <a class="back_btn" href="02_SIgn_up_and_Log_In.html"
                  ><img src="assets/img/icons/arrow-left.svg" alt="icons"
                /></a>
                <h3 class="mb-2">Create Your Account</h3>
                <h5 class="mb-4"></h5>
                <form
                  action="#"
                  method="post"
                  class="register_form"
                  id="registerForm"
                >
                  <div class="register_input-box margin_bottom16">
                    <input type="text" placeholder="User Name" required />
                  </div>

                  <!-- Password -->
                  <div class="register_input-box margin_bottom16">
                    <input
                      type="password"
                      id="register_password"
                      placeholder="Password"
                      required
                    />
                    <span
                      class="register_eye-icon"
                      onclick="togglePassword('register_password', this)"
                    >
                      <img
                        src="assets/img/icons/show.svg"
                        alt="Show password"
                      />
                    </span>
                  </div>

                  <!-- Confirm Password -->
                  <div class="register_input-box margin_bottom16">
                    <input
                      type="password"
                      id="register_confirmPassword"
                      placeholder="Confirm Password"
                      required
                    />
                    <span
                      class="register_eye-icon"
                      onclick="togglePassword('register_confirmPassword', this)"
                    >
                      <img
                        src="assets/img/icons/show.svg"
                        alt="Show password"
                      />
                    </span>
                  </div>

                  <div class="register_input-box margin_bottom16">
                    <select class="register_form-select" required>
                      <option value="" selected disabled>
                        Select Your Country
                      </option>
                      <option value="bd">Bangladesh</option>
                      <option value="in">India</option>
                      <option value="us">USA</option>
                      <option value="uk">UK</option>
                    </select>
                  </div>

                  <!-- Date of Birth -->
                  <div
                    class="register_input-box margin_bottom16 register_date-box"
                  >
                    <span class="register_date-placeholder">Date of Birth</span>
                    <input type="date" id="register_dob" required />
                  </div>

                  <!-- Gender -->
                  <div class="register_input-box margin_bottom16">
                    <select class="register_form-select" required>
                      <option value="" selected disabled>
                        Select your Gender
                      </option>
                      <option value="male">Male</option>
                      <option value="female">Female</option>
                      <option value="other">Other</option>
                    </select>
                  </div>

                  <!-- OTP Type -->
                  <div class="register_input-box margin_bottom16">
                    <select class="register_form-select" required>
                      <option value="" selected disabled>
                        Select OTP Type
                      </option>
                      <option value="login">Login OTP</option>
                      <option value="signup">Signup OTP</option>
                      <option value="reset">Password Reset OTP</option>
                    </select>
                  </div>

                  <button
                    type="submit"
                    class="register_submit_button submit_button mt-5"
                  >
                    Next
                  </button>
                </form>
                <!-- Age Restriction Popup -->
                <!-- Popup -->
                <div class="age-popup" id="agePopup">
                  <div class="age-popup-content">
                    <h2>Attention ⚠️ </h2>
                    <hr />
                    <img
                      src="assets/img/icons/17yearplus.svg"
                      alt="17+"
                      class="age-icon"
                    />

                    <h5 class="text-start">Social Vibing is <strong>adult only</strong> application</h5>

                    <p class="text-start">
                      By entering this platform, you confirm you are at least 17
                      years old and agree to our terms of service.
                    </p>
                    <p class="text-start">
                      By entering this Platform, I acknowlwdge that I am 17 years old or older and agree to the terms of service. 
                    </p>

                    <a href="#" class="protect-link text-start d-block"
                      >How to protect your minors</a
                    >

                    <button class="confirm-btn" onclick="closePopup()">
                      I am 17 years old or older ENTER
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="image-overlay"></div>
      </div>
    </section>
    <script>
      function togglePassword(id, el) {
        const input = document.getElementById(id);
        if (!input) return;

        let img = el.querySelector("img");

        if (!img) {
          img = document.createElement("img");
          img.src = "assets/img/icons/hide.png";
          img.alt = "Show password";
          el.appendChild(img);
        }

        // Check before toggling
        const isHidden = input.type === "password";

        // Toggle type
        input.type = isHidden ? "text" : "password";

        // Update image + alt
        img.src = isHidden
          ? "assets/img/icons/hide.png"
          : "assets/img/icons/show.svg";
        img.alt = isHidden ? "Hide password" : "Show password";
      }

      // ---- Date of Birth ----
      const dobInput = document.getElementById("register_dob");
      const dobBox = dobInput.closest(".register_date-box");

      function updateDOBState() {
        if (dobInput.value) {
          dobBox.classList.add("has-value");
        } else {
          dobBox.classList.remove("has-value");
        }
      }

      dobInput.addEventListener("focus", () => {
        dobBox.classList.add("focused");
        dobInput.style.color = "#fff";
      });

      dobInput.addEventListener("blur", () => {
        dobBox.classList.remove("focused");
        if (!dobInput.value) {
          dobInput.style.color = "transparent";
        }
      });

      dobInput.addEventListener("change", updateDOBState);

      window.addEventListener("load", () => {
        updateDOBState();
        if (!dobInput.value) {
          dobInput.style.color = "transparent";
        }
      });

      //     Age check and show popup
      document
        .getElementById("registerForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          const dobInput = document.getElementById("register_dob");
          if (!dobInput.value) {
            alert("Please select your date of birth!");
            return;
          }

          const birthDate = new Date(dobInput.value);
          const today = new Date();
          let age = today.getFullYear() - birthDate.getFullYear();
          const month = today.getMonth() - birthDate.getMonth();

          if (
            month < 0 ||
            (month === 0 && today.getDate() < birthDate.getDate())
          ) {
            age--;
          }

          if (age < 17) {
            document.getElementById("agePopup").style.display = "flex";
          } else {
            alert("✅ Form submitted successfully!");
          }
        });

      function closePopup() {
        document.getElementById("agePopup").style.display = "none";
      }
    </script>

    <!-- ========== All JS Link  -->
    <script src="assets/js/jquery-1.12.4.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/script.js"></script>
  </body>
</html>
